{"ast":null,"code":"import _regeneratorRuntime from\"/home/aishani/Desktop/convin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/aishani/Desktop/convin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/aishani/Desktop/convin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useCallback,useMemo,useState}from\"react\";import axios from\"axios\";import{useDispatch,useSelector}from\"react-redux\";import{setProducts}from\"../redux/actions/productsActions\";import ProductComponent from\"./ProductComponent\";import Spinner from'react-bootstrap/Spinner';import\"./ProductListing.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var users=useSelector(function(state){return state.allProducts.users;});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),userPage=_useState2[0],setUserPage=_useState2[1];function setPageValueHandler(event){if(event.target.id==\"back\"){userPage!==1?setUserPage(userPage-1):setUserPage(userPage);}if(event.target.id==\"next\"){userPage!==2?setUserPage(userPage+1):setUserPage(userPage);}}var dispatch=useDispatch();var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://reqres.in/api/users/?page=\".concat(userPage)).catch(function(err){console.log(\"Err: \",err);});case 2:response=_context.sent;dispatch(setProducts(response.data.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProducts();},[userPage]);console.log(\"Products :\",users);return/*#__PURE__*/_jsx(\"div\",{className:\"listing__bg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ui grid container\",children:[users?/*#__PURE__*/_jsx(ProductComponent,{}):/*#__PURE__*/_jsx(Spinner,{animation:\"border\",variant:\"primary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"back\",onClick:setPageValueHandler,children:\"<\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"current\",children:[\"Page \",userPage]}),/*#__PURE__*/_jsx(\"button\",{id:\"next\",onClick:setPageValueHandler,children:\">\"})]})]})});};export default ProductPage;","map":{"version":3,"names":["React","useEffect","useCallback","useMemo","useState","axios","useDispatch","useSelector","setProducts","ProductComponent","Spinner","ProductPage","users","state","allProducts","userPage","setUserPage","setPageValueHandler","event","target","id","dispatch","fetchProducts","get","catch","err","console","log","response","data"],"sources":["/home/aishani/Desktop/convin/src/containers/ProductListing.js"],"sourcesContent":["import React, { useEffect, useCallback, useMemo, useState } from \"react\";\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setProducts } from \"../redux/actions/productsActions\";\nimport ProductComponent from \"./ProductComponent\";\nimport Spinner from 'react-bootstrap/Spinner';\nimport \"./ProductListing.css\"\nconst ProductPage = () => {\n  const users = useSelector((state) => state.allProducts.users);\n  const [userPage, setUserPage]= useState(1); \n  \n  function setPageValueHandler(event){\n      if(event.target.id==\"back\"){\n        userPage!==1?setUserPage(userPage-1):setUserPage(userPage)\n      }\n\n      if(event.target.id==\"next\"){\n        userPage!==2?setUserPage(userPage+1):setUserPage(userPage)\n      }\n  }\n\n  const dispatch = useDispatch();\n  const fetchProducts = async () => {\n    const response = await axios\n      .get(`https://reqres.in/api/users/?page=${userPage}`)\n      .catch((err) => {\n        console.log(\"Err: \", err);\n      });\n\n\n    dispatch(setProducts(response.data.data));\n  };\n\n  useEffect(() => {\n    fetchProducts();\n  }, [userPage]);\n\n\n  console.log(\"Products :\", users);\n  return (\n    <div className=\"listing__bg\">\n      <div className=\"ui grid container\">\n     \n        {users?<ProductComponent />: <Spinner animation=\"border\" variant=\"primary\" />}\n        <div className=\"footer\">\n   \n      <button id=\"back\" onClick={setPageValueHandler}>{`<`}</button>\n      <div className=\"current\">Page {userPage}</div>\n      <button id=\"next\" onClick={setPageValueHandler}>{`>`}</button>\n   \n   </div>\n      </div>\n  \n    </div>\n  );\n};\n\nexport default ProductPage;\n"],"mappings":"sWAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,OAAxC,CAAiDC,QAAjD,KAAiE,OAAjE,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,kCAA5B,CACA,MAAOC,iBAAP,KAA6B,oBAA7B,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,MAAO,sBAAP,C,wFACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMC,MAAK,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACC,WAAN,CAAkBF,KAA7B,EAAD,CAAzB,CACA,cAA+BR,QAAQ,CAAC,CAAD,CAAvC,wCAAOW,QAAP,eAAiBC,WAAjB,eAEA,QAASC,oBAAT,CAA6BC,KAA7B,CAAmC,CAC/B,GAAGA,KAAK,CAACC,MAAN,CAAaC,EAAb,EAAiB,MAApB,CAA2B,CACzBL,QAAQ,GAAG,CAAX,CAAaC,WAAW,CAACD,QAAQ,CAAC,CAAV,CAAxB,CAAqCC,WAAW,CAACD,QAAD,CAAhD,CACD,CAED,GAAGG,KAAK,CAACC,MAAN,CAAaC,EAAb,EAAiB,MAApB,CAA2B,CACzBL,QAAQ,GAAG,CAAX,CAAaC,WAAW,CAACD,QAAQ,CAAC,CAAV,CAAxB,CAAqCC,WAAW,CAACD,QAAD,CAAhD,CACD,CACJ,CAED,GAAMM,SAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,cAAa,4FAAG,wKACGjB,MAAK,CACzBkB,GADoB,6CACqBR,QADrB,GAEpBS,KAFoB,CAEd,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,EACD,CAJoB,CADH,QACdG,QADc,eAQpBP,QAAQ,CAACb,WAAW,CAACoB,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ,CAAR,CARoB,sDAAH,kBAAbP,cAAa,0CAAnB,CAWArB,SAAS,CAAC,UAAM,CACdqB,aAAa,GACd,CAFQ,CAEN,CAACP,QAAD,CAFM,CAAT,CAKAW,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0Bf,KAA1B,EACA,mBACE,YAAK,SAAS,CAAC,aAAf,uBACE,aAAK,SAAS,CAAC,mBAAf,WAEGA,KAAK,cAAC,KAAC,gBAAD,IAAD,cAAuB,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,OAAO,CAAC,SAApC,EAF/B,cAGE,aAAK,SAAS,CAAC,QAAf,wBAEF,eAAQ,EAAE,CAAC,MAAX,CAAkB,OAAO,CAAEK,mBAA3B,eAFE,cAGF,aAAK,SAAS,CAAC,SAAf,mBAA+BF,QAA/B,GAHE,cAIF,eAAQ,EAAE,CAAC,MAAX,CAAkB,OAAO,CAAEE,mBAA3B,eAJE,GAHF,GADF,EADF,CAgBD,CAhDD,CAkDA,cAAeN,YAAf"},"metadata":{},"sourceType":"module"}