{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import\"./UserProfile.css\";import{useDispatch,useSelector}from\"react-redux\";import Spinner from'react-bootstrap/Spinner';import{selectedProduct}from\"../redux/actions/productsActions\";//   useEffect(() => {\n//     if (productId && productId !== \"\") fetchProductDetail(productId);\n//     return () => {\n//       dispatch(removeSelectedProduct());\n//     };\n//   }, [productId]);\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function UserProfile(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var user=useSelector(function(state){return state.user;});var id=user.id,email=user.email,first_name=user.first_name,last_name=user.last_name,avatar=user.avatar;var dispatch=useDispatch();var fetchProductDetail=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://reqres.in/api/users/\".concat(props.userID)).catch(function(err){console.log(\"Err: \",err);});case 2:response=_context.sent;dispatch(selectedProduct(response.data.data));setLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProductDetail(){return _ref.apply(this,arguments);};}();useEffect(function(){if(props.userID!=0){fetchProductDetail(props.userID);}},[props.userID]);return/*#__PURE__*/_jsx(\"div\",{className:\"userCard\",children:loading?/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",height:\"100%\"},children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"lg\",variant:\"primary\"}),\" \"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"userName\",children:props.userID==0?\"Click on a user!\":\"\".concat(user.first_name,\" \").concat(user.last_name)}),/*#__PURE__*/_jsx(\"div\",{className:\"userEmail\",children:props.userID==0?\"& get more information\":\"\".concat(user.email)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:user.avatar,alt:id})})]})});}export default UserProfile;","map":{"version":3,"names":["React","useEffect","useState","axios","useDispatch","useSelector","Spinner","selectedProduct","UserProfile","props","loading","setLoading","user","state","id","email","first_name","last_name","avatar","dispatch","fetchProductDetail","get","userID","catch","err","console","log","response","data","backgroundColor","height"],"sources":["C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/src/containers/UserProfile.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./UserProfile.css\"\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport {\r\n  selectedProduct,\r\n\r\n} from \"../redux/actions/productsActions\";\r\n\r\n//   useEffect(() => {\r\n//     if (productId && productId !== \"\") fetchProductDetail(productId);\r\n//     return () => {\r\n//       dispatch(removeSelectedProduct());\r\n//     };\r\n//   }, [productId]);\r\nfunction UserProfile(props) {\r\n  const [loading, setLoading] = useState(true)\r\n  let user = useSelector((state) => state.user);\r\n  const { id, email, first_name, last_name, avatar } = user;\r\n  const dispatch = useDispatch();\r\n  const fetchProductDetail = async () => {\r\n    const response = await axios\r\n      .get(`https://reqres.in/api/users/${props.userID}`)\r\n\r\n      .catch((err) => {\r\n        console.log(\"Err: \", err);\r\n      });\r\n    dispatch(selectedProduct(response.data.data));\r\n    setLoading(false)\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (props.userID != 0) {\r\n      fetchProductDetail(props.userID);\r\n    }\r\n\r\n  }, [props.userID]);\r\n\r\n\r\n  return (\r\n\r\n    <div className=\"userCard\">\r\n      {loading ? <div style={{ backgroundColor: \"white\", height: \"100%\" }}><Spinner animation=\"border\" size=\"lg\" variant=\"primary\" /> </div> :\r\n        <>\r\n          <div className=\"content\">\r\n            <div className=\"userName\">{props.userID == 0 ? \"Click on a user!\" : `${user.first_name} ${user.last_name}`}</div>\r\n            <div className=\"userEmail\">{props.userID == 0 ? \"& get more information\" : `${user.email}`}</div>\r\n\r\n          </div>\r\n          <div className=\"image\">\r\n            <img src={user.avatar} alt={id} />\r\n          </div>\r\n        </>}\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default UserProfile"],"mappings":"2aAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAO,mBAAP,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,OACEC,eADF,KAGO,kCAHP,CAKA;AACA;AACA;AACA;AACA;AACA;6IACA,QAASC,YAAT,CAAqBC,KAArB,CAA4B,CAC1B,cAA8BP,QAAQ,CAAC,IAAD,CAAtC,wCAAOQ,OAAP,eAAgBC,UAAhB,eACA,GAAIC,KAAI,CAAGP,WAAW,CAAC,SAACQ,KAAD,QAAWA,MAAK,CAACD,IAAjB,EAAD,CAAtB,CACA,GAAQE,GAAR,CAAqDF,IAArD,CAAQE,EAAR,CAAYC,KAAZ,CAAqDH,IAArD,CAAYG,KAAZ,CAAmBC,UAAnB,CAAqDJ,IAArD,CAAmBI,UAAnB,CAA+BC,SAA/B,CAAqDL,IAArD,CAA+BK,SAA/B,CAA0CC,MAA1C,CAAqDN,IAArD,CAA0CM,MAA1C,CACA,GAAMC,SAAQ,CAAGf,WAAW,EAA5B,CACA,GAAMgB,mBAAkB,4FAAG,wKACFjB,MAAK,CACzBkB,GADoB,uCACeZ,KAAK,CAACa,MADrB,GAGpBC,KAHoB,CAGd,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,EACD,CALoB,CADE,QACnBG,QADmB,eAOzBR,QAAQ,CAACZ,eAAe,CAACoB,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAhB,CAAR,CACAjB,UAAU,CAAC,KAAD,CAAV,CARyB,sDAAH,kBAAlBS,mBAAkB,0CAAxB,CAWAnB,SAAS,CAAC,UAAM,CACd,GAAIQ,KAAK,CAACa,MAAN,EAAgB,CAApB,CAAuB,CACrBF,kBAAkB,CAACX,KAAK,CAACa,MAAP,CAAlB,CACD,CAEF,CALQ,CAKN,CAACb,KAAK,CAACa,MAAP,CALM,CAAT,CAQA,mBAEE,YAAK,SAAS,CAAC,UAAf,UACGZ,OAAO,cAAG,aAAK,KAAK,CAAE,CAAEmB,eAAe,CAAE,OAAnB,CAA4BC,MAAM,CAAE,MAApC,CAAZ,wBAA0D,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,IAAI,CAAC,IAAjC,CAAsC,OAAO,CAAC,SAA9C,EAA1D,OAAH,cACN,wCACE,aAAK,SAAS,CAAC,SAAf,wBACE,YAAK,SAAS,CAAC,UAAf,UAA2BrB,KAAK,CAACa,MAAN,EAAgB,CAAhB,CAAoB,kBAApB,WAA4CV,IAAI,CAACI,UAAjD,aAA+DJ,IAAI,CAACK,SAApE,CAA3B,EADF,cAEE,YAAK,SAAS,CAAC,WAAf,UAA4BR,KAAK,CAACa,MAAN,EAAgB,CAAhB,CAAoB,wBAApB,WAAkDV,IAAI,CAACG,KAAvD,CAA5B,EAFF,GADF,cAME,YAAK,SAAS,CAAC,OAAf,uBACE,YAAK,GAAG,CAAEH,IAAI,CAACM,MAAf,CAAuB,GAAG,CAAEJ,EAA5B,EADF,EANF,GAFJ,EAFF,CAiBD,CAED,cAAeN,YAAf"},"metadata":{},"sourceType":"module"}