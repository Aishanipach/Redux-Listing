{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useCallback,useMemo,useState}from\"react\";import axios from\"axios\";import{useDispatch,useSelector}from\"react-redux\";import{setProducts}from\"../redux/actions/productsActions\";import ProductComponent from\"./ProductComponent\";import Spinner from'react-bootstrap/Spinner';import\"./ProductListing.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductPage=function ProductPage(){var users=useSelector(function(state){return state.allProducts.users;});var _useState=useState(1),_useState2=_slicedToArray(_useState,2),userPage=_useState2[0],setUserPage=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),Loading=_useState4[0],setLoading=_useState4[1];function setPageValueHandler(event){if(event.target.id==\"back\"){userPage!==1?setUserPage(userPage-1):setUserPage(userPage);}if(event.target.id==\"next\"){userPage!==2?setUserPage(userPage+1):setUserPage(userPage);}}var dispatch=useDispatch();var fetchProducts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"https://reqres.in/api/users/?page=\".concat(userPage)).catch(function(err){console.log(\"Err: \",err);});case 2:response=_context.sent;setLoading(false);dispatch(setProducts(response.data.data));case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchProducts(){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProducts();},[userPage]);console.log(\"Products :\",users);return/*#__PURE__*/_jsx(\"div\",{className:\"listing__bg\",children:Loading?/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:\"white\",height:\"100vh\"},children:[/*#__PURE__*/_jsx(Spinner,{animation:\"border\",size:\"lg\",variant:\"primary\"}),\" \"]}):/*#__PURE__*/_jsxs(\"div\",{className:\"ui grid container\",children:[/*#__PURE__*/_jsx(ProductComponent,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer\",children:[/*#__PURE__*/_jsx(\"button\",{id:\"back\",onClick:setPageValueHandler,children:\"<\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"current\",children:[\"Page \",userPage]}),/*#__PURE__*/_jsx(\"button\",{id:\"next\",onClick:setPageValueHandler,children:\">\"})]})]})});};export default ProductPage;","map":{"version":3,"names":["React","useEffect","useCallback","useMemo","useState","axios","useDispatch","useSelector","setProducts","ProductComponent","Spinner","ProductPage","users","state","allProducts","userPage","setUserPage","Loading","setLoading","setPageValueHandler","event","target","id","dispatch","fetchProducts","get","catch","err","console","log","response","data","backgroundColor","height"],"sources":["C:/Users/aisha/Desktop/git-redux-list/Redux-Listing/src/containers/ProductListing.js"],"sourcesContent":["import React, { useEffect, useCallback, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { setProducts } from \"../redux/actions/productsActions\";\r\nimport ProductComponent from \"./ProductComponent\";\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport \"./ProductListing.css\"\r\nconst ProductPage = () => {\r\n  const users = useSelector((state) => state.allProducts.users);\r\n  const [userPage, setUserPage] = useState(1);\r\n  const [Loading, setLoading] = useState(true)\r\n  function setPageValueHandler(event) {\r\n    if (event.target.id == \"back\") {\r\n      userPage !== 1 ? setUserPage(userPage - 1) : setUserPage(userPage)\r\n    }\r\n\r\n    if (event.target.id == \"next\") {\r\n      userPage !== 2 ? setUserPage(userPage + 1) : setUserPage(userPage)\r\n    }\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n  const fetchProducts = async () => {\r\n    const response = await axios\r\n      .get(`https://reqres.in/api/users/?page=${userPage}`)\r\n      .catch((err) => {\r\n        console.log(\"Err: \", err);\r\n      });\r\n\r\n    setLoading(false)\r\n    dispatch(setProducts(response.data.data));\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProducts();\r\n  }, [userPage]);\r\n\r\n\r\n  console.log(\"Products :\", users);\r\n  return (\r\n    <div className=\"listing__bg\">\r\n      {Loading ? <div style={{ backgroundColor: \"white\", height: \"100vh\" }}><Spinner animation=\"border\" size=\"lg\" variant=\"primary\" /> </div> :\r\n        <div className=\"ui grid container\">\r\n\r\n          <ProductComponent />\r\n          <div className=\"footer\">\r\n\r\n            <button id=\"back\" onClick={setPageValueHandler}>{`<`}</button>\r\n            <div className=\"current\">Page {userPage}</div>\r\n            <button id=\"next\" onClick={setPageValueHandler}>{`>`}</button>\r\n\r\n          </div>\r\n        </div>}\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProductPage;\r\n"],"mappings":"2aAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,WAA3B,CAAwCC,OAAxC,CAAiDC,QAAjD,KAAiE,OAAjE,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,WAAT,KAA4B,kCAA5B,CACA,MAAOC,iBAAP,KAA6B,oBAA7B,CACA,MAAOC,QAAP,KAAoB,yBAApB,CACA,MAAO,sBAAP,C,wFACA,GAAMC,YAAW,CAAG,QAAdA,YAAc,EAAM,CACxB,GAAMC,MAAK,CAAGL,WAAW,CAAC,SAACM,KAAD,QAAWA,MAAK,CAACC,WAAN,CAAkBF,KAA7B,EAAD,CAAzB,CACA,cAAgCR,QAAQ,CAAC,CAAD,CAAxC,wCAAOW,QAAP,eAAiBC,WAAjB,eACA,eAA8BZ,QAAQ,CAAC,IAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eACA,QAASC,oBAAT,CAA6BC,KAA7B,CAAoC,CAClC,GAAIA,KAAK,CAACC,MAAN,CAAaC,EAAb,EAAmB,MAAvB,CAA+B,CAC7BP,QAAQ,GAAK,CAAb,CAAiBC,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAA5B,CAA6CC,WAAW,CAACD,QAAD,CAAxD,CACD,CAED,GAAIK,KAAK,CAACC,MAAN,CAAaC,EAAb,EAAmB,MAAvB,CAA+B,CAC7BP,QAAQ,GAAK,CAAb,CAAiBC,WAAW,CAACD,QAAQ,CAAG,CAAZ,CAA5B,CAA6CC,WAAW,CAACD,QAAD,CAAxD,CACD,CACF,CAED,GAAMQ,SAAQ,CAAGjB,WAAW,EAA5B,CACA,GAAMkB,cAAa,4FAAG,wKACGnB,MAAK,CACzBoB,GADoB,6CACqBV,QADrB,GAEpBW,KAFoB,CAEd,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBF,GAArB,EACD,CAJoB,CADH,QACdG,QADc,eAOpBZ,UAAU,CAAC,KAAD,CAAV,CACAK,QAAQ,CAACf,WAAW,CAACsB,QAAQ,CAACC,IAAT,CAAcA,IAAf,CAAZ,CAAR,CARoB,sDAAH,kBAAbP,cAAa,0CAAnB,CAYAvB,SAAS,CAAC,UAAM,CACduB,aAAa,GACd,CAFQ,CAEN,CAACT,QAAD,CAFM,CAAT,CAKAa,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0BjB,KAA1B,EACA,mBACE,YAAK,SAAS,CAAC,aAAf,UACGK,OAAO,cAAG,aAAK,KAAK,CAAE,CAAEe,eAAe,CAAE,OAAnB,CAA4BC,MAAM,CAAE,OAApC,CAAZ,wBAA2D,KAAC,OAAD,EAAS,SAAS,CAAC,QAAnB,CAA4B,IAAI,CAAC,IAAjC,CAAsC,OAAO,CAAC,SAA9C,EAA3D,OAAH,cACN,aAAK,SAAS,CAAC,mBAAf,wBAEE,KAAC,gBAAD,IAFF,cAGE,aAAK,SAAS,CAAC,QAAf,wBAEE,eAAQ,EAAE,CAAC,MAAX,CAAkB,OAAO,CAAEd,mBAA3B,eAFF,cAGE,aAAK,SAAS,CAAC,SAAf,mBAA+BJ,QAA/B,GAHF,cAIE,eAAQ,EAAE,CAAC,MAAX,CAAkB,OAAO,CAAEI,mBAA3B,eAJF,GAHF,GAFJ,EADF,CAiBD,CAlDD,CAoDA,cAAeR,YAAf"},"metadata":{},"sourceType":"module"}